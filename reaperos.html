<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReaperOS - Minecraft OS</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto+Mono:wght@400;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto Mono', monospace;
            background-color: #0a0a1a;
            color: #e0e0e0;
            height: 100vh;
            overflow: hidden;
            image-rendering: pixelated;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(20, 20, 40, 0.1) 2px, rgba(20, 20, 40, 0.1) 4px),
                repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(20, 20, 40, 0.1) 2px, rgba(20, 20, 40, 0.1) 4px);
        }

        /* Glitch Effects */
        .glitch-text {
            position: relative;
            animation: glitch 5s infinite;
        }

        .glitch-text::before,
        .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .glitch-text::before {
            animation: glitch-top 1s infinite;
            clip-path: polygon(0 0, 100% 0, 100% 33%, 0 33%);
            -webkit-clip-path: polygon(0 0, 100% 0, 100% 33%, 0 33%);
        }

        .glitch-text::after {
            animation: glitch-bottom 1.5s infinite;
            clip-path: polygon(0 67%, 100% 67%, 100% 100%, 0 100%);
            -webkit-clip-path: polygon(0 67%, 100% 67%, 100% 100%, 0 100%);
        }

        @keyframes glitch {
            0%, 12%, 15%, 52%, 55%, 82%, 85%, 100% { transform: translate(0); }
            13% { transform: translate(-2px, 2px); }
            14% { transform: translate(2px, -1px); }
            53% { transform: translate(1px, -2px); }
            54% { transform: translate(-1px, 2px); }
            83% { transform: translate(2px, 1px); }
            84% { transform: translate(-2px, -1px); }
        }

        @keyframes glitch-top {
            0%, 5%, 10%, 15%, 100% { transform: translate(0); opacity: 1; }
            1% { transform: translate(1px, -1px); opacity: 0.8; }
            2% { transform: translate(-1px, 1px); opacity: 0.8; }
            6% { transform: translate(2px, -2px); opacity: 0.6; }
            11% { transform: translate(-2px, 2px); opacity: 0.6; }
        }

        @keyframes glitch-bottom {
            0%, 5%, 10%, 15%, 100% { transform: translate(0); opacity: 1; }
            1% { transform: translate(-1px, 1px); opacity: 0.8; }
            2% { transform: translate(1px, -1px); opacity: 0.8; }
            6% { transform: translate(-2px, 2px); opacity: 0.6; }
            11% { transform: translate(2px, -2px); opacity: 0.6; }
        }

        .screen-glitch {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0;
            background: linear-gradient(
                rgba(106, 247, 106, 0.1),
                rgba(255, 106, 106, 0.1)
            );
            mix-blend-mode: screen;
            animation: screen-glitch 10s infinite;
        }

        @keyframes screen-glitch {
            0%, 95%, 100% { opacity: 0; }
            96%, 97%, 98%, 99% { opacity: 0.1; }
        }

        .scanlines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                transparent 50%,
                rgba(0, 0, 0, 0.5) 50%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9998;
            opacity: 0.1;
        }

        /* Windows-style elements */
        .window {
            background-color: #2a2a4a;
            border: 3px solid #4a4a6e;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            position: relative;
        }

        .window::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(to right, transparent, #6af76a, transparent);
            animation: scanline 2s linear infinite;
        }

        @keyframes scanline {
            0% { top: 0; }
            100% { top: 100%; }
        }

        .window-header {
            background: linear-gradient(to bottom, #3a3a6a, #2a2a4a);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #4a4a6e;
            cursor: move;
            user-select: none;
        }

        .window-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            color: #6af76a;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .window-btn {
            width: 24px;
            height: 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .window-btn:hover {
            transform: scale(1.1);
        }

        .window-btn.minimize {
            background-color: #3a5a3a;
            color: #6af76a;
        }

        .window-btn.maximize {
            background-color: #3a5a7a;
            color: #6af7f7;
        }

        .window-btn.close {
            background-color: #5a3a3a;
            color: #ff6a6a;
        }

        .window-content {
            padding: 20px;
            overflow: auto;
            max-height: calc(100vh - 100px);
            position: relative;
        }

        /* Button Styles */
        .btn {
            background-color: #3a3a5e;
            color: white;
            border: none;
            padding: 10px 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 11px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
            box-shadow: 0 4px 0 #2a2a4a;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            background-color: #4a4a6e;
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #2a2a4a;
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 0 #2a2a4a;
        }

        .btn-primary {
            background-color: #2a5a2a;
        }

        .btn-primary:hover {
            background-color: #3a6a3a;
        }

        .btn-warning {
            background-color: #5a3a2a;
        }

        .btn-warning:hover {
            background-color: #6a4a3a;
        }

        .btn-danger {
            background-color: #5a2a2a;
        }

        .btn-danger:hover {
            background-color: #6a3a3a;
        }

        /* Input Styles */
        .input-field {
            background-color: #2a2a4a;
            border: 2px solid #4a4a6e;
            color: #e0e0e0;
            padding: 10px;
            font-family: 'Roboto Mono', monospace;
            font-size: 14px;
            border-radius: 4px;
            width: 100%;
            outline: none;
            transition: all 0.3s;
            position: relative;
        }

        .input-field:focus {
            border-color: #6af76a;
            box-shadow: 0 0 15px rgba(106, 247, 106, 0.3);
            animation: input-glitch 0.3s;
        }

        @keyframes input-glitch {
            0%, 100% { transform: translateX(0); }
            33% { transform: translateX(-1px); }
            66% { transform: translateX(1px); }
        }

        .input-field.error {
            border-color: #ff6a6a;
            animation: error-shake 0.5s;
        }

        @keyframes error-shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
            20%, 40%, 60%, 80% { transform: translateX(2px); }
        }

        .select-field {
            background-color: #2a2a4a;
            border: 2px solid #4a4a6e;
            color: #e0e0e0;
            padding: 8px;
            font-family: 'Roboto Mono', monospace;
            font-size: 14px;
            border-radius: 4px;
            width: 100%;
            outline: none;
            cursor: pointer;
        }

        /* Screen containers */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #0a0a1a;
            z-index: 10;
            transition: opacity 0.5s, transform 0.5s;
            padding: 20px;
        }

        .screen.hidden {
            opacity: 0;
            pointer-events: none;
            z-index: 1;
            transform: translateY(20px);
        }

        /* Login screen */
        #login-screen {
            background: linear-gradient(rgba(10, 10, 30, 0.9), rgba(10, 10, 30, 0.9)), 
                        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%230a0a1a"/><path d="M20,20 L80,20 L80,80 L20,80 Z" fill="none" stroke="%233a3a5e" stroke-width="2"/><path d="M30,30 L70,30 L70,70 L30,70 Z" fill="none" stroke="%234a4a6e" stroke-width="1"/></svg>');
        }

        .login-window {
            width: 500px;
            max-width: 90%;
            animation: window-appear 0.8s ease-out;
        }

        @keyframes window-appear {
            0% { transform: scale(0.8) translateY(20px); opacity: 0; }
            100% { transform: scale(1) translateY(0); opacity: 1; }
        }

        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .login-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 32px;
            color: #6af76a;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(106, 247, 106, 0.5);
            position: relative;
        }

        .login-subtitle {
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            color: #a0a0ff;
            opacity: 0.8;
            animation: subtitle-glitch 20s infinite;
        }

        @keyframes subtitle-glitch {
            0%, 95%, 100% { opacity: 0.8; }
            96% { opacity: 0.6; transform: translateX(-1px); }
            97% { opacity: 0.9; transform: translateX(1px); }
            98% { opacity: 0.7; }
            99% { opacity: 0.8; transform: translateX(0); }
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: #a0a0ff;
            text-transform: uppercase;
        }

        .login-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .login-actions .btn {
            flex: 1;
        }

        .language-selector {
            position: absolute;
            top: 25px;
            right: 25px;
            z-index: 100;
        }

        .password-note {
            font-size: 11px;
            color: #8080a0;
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #4a4a6e;
        }

        /* Setup screen */
        .setup-window {
            width: 700px;
            max-width: 90%;
        }

        .setup-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .setup-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 24px;
            color: #6af7f7;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(106, 247, 247, 0.5);
        }

        .setup-progress {
            margin: 30px 0;
        }

        .progress-bar {
            height: 8px;
            background-color: #2a2a4a;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
            position: relative;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 106, 0.3),
                transparent
            );
            animation: progress-scan 2s linear infinite;
        }

        @keyframes progress-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #2a5a2a, #6af76a);
            width: 0%;
            transition: width 1s ease-in-out;
            border-radius: 4px;
            position: relative;
            z-index: 1;
        }

        .progress-text {
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: #a0a0ff;
            text-align: center;
        }

        .setup-steps {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .setup-step {
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            border-left: 4px solid #4a4a6e;
            position: relative;
            overflow: hidden;
        }

        .setup-step::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 106, 0.1),
                transparent
            );
            transform: translateX(-100%);
        }

        .setup-step.active::before {
            animation: step-scan 2s ease-in-out;
        }

        @keyframes step-scan {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
            100% { transform: translateX(100%); }
        }

        .step-active {
            border-left-color: #6af76a;
            background-color: rgba(42, 90, 42, 0.2);
        }

        .step-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            color: #f7f76a;
            margin-bottom: 5px;
            position: relative;
        }

        .step-desc {
            font-size: 13px;
            color: #c0c0e0;
        }

        /* OS Desktop */
        #os-screen {
            display: flex;
            flex-direction: column;
            height: 100%;
            background-color: #1a1a2e;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(42, 90, 42, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(42, 74, 106, 0.1) 0%, transparent 50%);
            position: relative;
        }

        .taskbar {
            background-color: #2a2a4a;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            border-top: 3px solid #4a4a6e;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            z-index: 100;
            position: relative;
        }

        .taskbar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(to right, transparent, #6af76a, transparent);
            animation: taskbar-scan 3s linear infinite;
        }

        @keyframes taskbar-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .taskbar-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .taskbar-center {
            display: flex;
            gap: 10px;
        }

        .taskbar-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .start-btn {
            background: linear-gradient(to bottom, #3a5a3a, #2a4a2a);
            border: none;
            padding: 8px 20px;
            border-radius: 6px;
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            color: #6af76a;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 0 #1a3a1a;
            position: relative;
            overflow: hidden;
        }

        .start-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 106, 0.3),
                transparent
            );
            transition: left 0.5s;
        }

        .start-btn:hover::before {
            left: 100%;
        }

        .start-btn:hover {
            background: linear-gradient(to bottom, #4a6a4a, #3a5a3a);
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #1a3a1a;
        }

        .start-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 0 #1a3a1a;
        }

        .taskbar-app {
            background-color: #3a3a5e;
            padding: 8px 15px;
            border-radius: 4px;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: #e0e0e0;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .taskbar-app::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 247, 0.2),
                transparent
            );
            transition: left 0.3s;
        }

        .taskbar-app:hover::before {
            left: 100%;
        }

        .taskbar-app:hover {
            background-color: #4a4a6e;
            transform: translateY(-2px);
        }

        .taskbar-app.active {
            background-color: #5a5a8e;
            color: #6af7f7;
            box-shadow: 0 0 10px rgba(106, 247, 247, 0.3);
        }

        .system-tray {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tray-item {
            padding: 5px 10px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: #a0a0ff;
        }

        .time-display {
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            color: #6af76a;
            padding: 5px 10px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            animation: time-glitch 30s infinite;
        }

        @keyframes time-glitch {
            0%, 98%, 100% { color: #6af76a; }
            99% { color: #ff6a6a; }
        }

        .desktop {
            flex: 1;
            padding: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            grid-auto-rows: minmax(120px, auto);
            gap: 20px;
            align-content: start;
            overflow: auto;
        }

        .desktop-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .desktop-icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 106, 0.1),
                transparent
            );
            transition: left 0.5s;
        }

        .desktop-icon:hover::before {
            left: 100%;
        }

        .desktop-icon:hover {
            background-color: rgba(58, 58, 94, 0.3);
            transform: scale(1.05);
        }

        .desktop-icon:active {
            transform: scale(0.95);
        }

        .icon-image {
            font-size: 32px;
            width: 64px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(42, 42, 74, 0.5);
            border-radius: 12px;
            border: 2px solid #4a4a6e;
            position: relative;
            overflow: hidden;
        }

        .icon-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            animation: icon-scan 3s linear infinite;
        }

        @keyframes icon-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .icon-label {
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: #e0e0e0;
            max-width: 100px;
            word-break: break-word;
        }

        /* Windows Manager */
        .window-manager {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: calc(100% - 50px);
            pointer-events: none;
            z-index: 50;
        }

        .window-instance {
            position: absolute;
            min-width: 400px;
            min-height: 300px;
            pointer-events: all;
            resize: both;
            overflow: auto;
        }

        .window-instance.maximized {
            width: 100% !important;
            height: calc(100% - 50px) !important;
            top: 0 !important;
            left: 0 !important;
            resize: none;
        }

        .window-instance.minimized {
            display: none;
        }

        /* Start Menu */
        .start-menu {
            position: absolute;
            bottom: 60px;
            left: 20px;
            width: 350px;
            background-color: #2a2a4a;
            border: 3px solid #4a4a6e;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            z-index: 150;
            display: none;
        }

        .start-menu.active {
            display: block;
            animation: menu-appear 0.3s ease-out;
        }

        @keyframes menu-appear {
            0% { transform: translateY(20px) scale(0.95); opacity: 0; }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }

        .start-header {
            background: linear-gradient(to bottom, #3a5a3a, #2a4a2a);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #4a4a6e;
        }

        .start-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 18px;
            color: #6af76a;
        }

        .start-user {
            font-family: 'Press Start 2P', cursive;
            font-size: 10px;
            color: #a0a0ff;
            margin-top: 5px;
        }

        .start-apps {
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .app-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .app-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .app-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 106, 0.1),
                transparent
            );
            transition: left 0.3s;
        }

        .app-item:hover::before {
            left: 100%;
        }

        .app-item:hover {
            background-color: #3a3a5e;
            transform: translateX(5px);
        }

        .app-icon {
            font-size: 24px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(42, 42, 74, 0.5);
            border-radius: 8px;
            border: 2px solid #4a4a6e;
            position: relative;
            z-index: 1;
        }

        .app-name {
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            color: #e0e0e0;
            flex: 1;
            position: relative;
            z-index: 1;
        }

        /* Terminal App */
        .terminal-container {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .terminal-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4a4a6e;
        }

        .terminal-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            color: #6af7f7;
        }

        .terminal-toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .terminal-body {
            flex: 1;
            background-color: #1a1a2e;
            border: 2px solid #4a4a6e;
            border-radius: 6px;
            padding: 15px;
            overflow-y: auto;
            font-family: 'Roboto Mono', monospace;
            font-size: 13px;
            line-height: 1.4;
            position: relative;
        }

        .terminal-body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                transparent 95%,
                rgba(106, 247, 106, 0.05) 95%
            );
            background-size: 100% 20px;
            pointer-events: none;
        }

        .terminal-input {
            margin-top: 10px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .prompt {
            color: #6af76a;
            font-family: 'Press Start 2P', cursive;
            font-size: 12px;
            white-space: nowrap;
            animation: prompt-blink 1s infinite;
        }

        @keyframes prompt-blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.7; }
        }

        .cmd-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #e0e0e0;
            font-family: 'Roboto Mono', monospace;
            font-size: 13px;
            outline: none;
            caret-color: #6af76a;
        }

        .terminal-line {
            margin-bottom: 8px;
            word-break: break-all;
            position: relative;
        }

        .terminal-line::before {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            bottom: -4px;
            height: 1px;
            background: linear-gradient(to right, transparent, rgba(106, 247, 106, 0.1), transparent);
        }

        .cmd-output {
            color: #a0a0ff;
        }

        .cmd-error {
            color: #ff6a6a;
            animation: error-glitch 0.5s;
        }

        @keyframes error-glitch {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-1px); }
            40% { transform: translateX(1px); }
            60% { transform: translateX(-1px); }
            80% { transform: translateX(1px); }
        }

        .cmd-success {
            color: #6af76a;
        }

        /* Code Editor */
        .editor-container {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .editor-toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .editor-area {
            flex: 1;
            background-color: #1a1a2e;
            border: 2px solid #4a4a6e;
            border-radius: 6px;
            padding: 20px;
            font-family: 'Roboto Mono', monospace;
            font-size: 14px;
            color: #e0e0e0;
            outline: none;
            overflow: auto;
            white-space: pre;
            tab-size: 4;
            caret-color: #6af76a;
        }

        .editor-area:focus {
            border-color: #6af76a;
            box-shadow: 0 0 15px rgba(106, 247, 106, 0.3);
        }

        /* Games */
        .games-container {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .game-card {
            background-color: #2a2a4a;
            border: 2px solid #4a4a6e;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 247, 0.1),
                transparent
            );
            transition: left 0.5s;
        }

        .game-card:hover::before {
            left: 100%;
        }

        .game-card:hover {
            transform: translateY(-5px);
            border-color: #5a5a8e;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .game-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .game-icon {
            font-size: 32px;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(42, 42, 74, 0.5);
            border-radius: 10px;
            border: 2px solid #4a4a6e;
            position: relative;
            overflow: hidden;
        }

        .game-icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            animation: game-icon-scan 2s linear infinite;
        }

        @keyframes game-icon-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .game-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            color: #6af7f7;
        }

        .game-desc {
            font-size: 13px;
            color: #c0c0e0;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .game-controls {
            display: flex;
            gap: 10px;
        }

        /* Snake Game */
        .snake-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 20px;
        }

        .snake-header {
            text-align: center;
            margin-bottom: 10px;
        }

        .snake-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 18px;
            color: #6af76a;
            margin-bottom: 5px;
        }

        .snake-score {
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            color: #f7f76a;
        }

        .snake-game {
            display: grid;
            grid-template-columns: repeat(20, 1fr);
            grid-template-rows: repeat(20, 1fr);
            width: 400px;
            height: 400px;
            border: 4px solid #4a4a6e;
            background-color: #1a1a2e;
            position: relative;
            overflow: hidden;
        }

        .snake-game::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, transparent 95%, rgba(106, 247, 106, 0.05) 95%),
                linear-gradient(transparent 95%, rgba(106, 247, 106, 0.05) 95%);
            background-size: 20px 20px;
            pointer-events: none;
        }

        .snake-cell {
            border: 1px solid rgba(74, 74, 110, 0.2);
            position: relative;
        }

        .snake-body {
            background-color: #6af76a;
            border-radius: 2px;
            animation: snake-pulse 2s infinite;
        }

        @keyframes snake-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .snake-head {
            background-color: #3a5a3a;
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }

        .snake-head::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.2),
                transparent
            );
            animation: snake-head-scan 1s linear infinite;
        }

        @keyframes snake-head-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .snake-food {
            background-color: #ff6a6a;
            border-radius: 50%;
            animation: food-pulse 1s infinite, food-rotate 5s linear infinite;
        }

        @keyframes food-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes food-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .snake-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .snake-arrows {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 5px;
            width: 150px;
            height: 150px;
        }

        .arrow-btn {
            background-color: #3a3a5e;
            border: none;
            border-radius: 4px;
            font-size: 20px;
            color: #e0e0e0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .arrow-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 106, 0.2),
                transparent
            );
            transition: left 0.3s;
        }

        .arrow-btn:hover::before {
            left: 100%;
        }

        .arrow-btn:hover {
            background-color: #4a4a6e;
        }

        .arrow-up { grid-column: 2; grid-row: 1; }
        .arrow-left { grid-column: 1; grid-row: 2; }
        .arrow-right { grid-column: 3; grid-row: 2; }
        .arrow-down { grid-column: 2; grid-row: 3; }

        /* Tetris Game */
        .tetris-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 20px;
        }

        .tetris-header {
            text-align: center;
            margin-bottom: 10px;
        }

        .tetris-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 18px;
            color: #6af7f7;
            margin-bottom: 5px;
        }

        .tetris-score {
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            color: #f7f76a;
        }

        .tetris-game {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(20, 1fr);
            width: 300px;
            height: 600px;
            border: 4px solid #4a4a6e;
            background-color: #1a1a2e;
            position: relative;
            overflow: hidden;
        }

        .tetris-game::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                linear-gradient(90deg, transparent 90%, rgba(106, 247, 247, 0.05) 90%),
                linear-gradient(transparent 95%, rgba(106, 247, 247, 0.05) 95%);
            background-size: 30px 30px;
            pointer-events: none;
        }

        .tetris-cell {
            border: 1px solid rgba(74, 74, 110, 0.2);
        }

        .tetris-piece-i { 
            background-color: #6af7f7;
            animation: tetris-pulse 2s infinite;
        }
        .tetris-piece-o { 
            background-color: #f7f76a;
            animation: tetris-pulse 2s infinite 0.1s;
        }
        .tetris-piece-t { 
            background-color: #a06af7;
            animation: tetris-pulse 2s infinite 0.2s;
        }
        .tetris-piece-s { 
            background-color: #6af76a;
            animation: tetris-pulse 2s infinite 0.3s;
        }
        .tetris-piece-z { 
            background-color: #ff6a6a;
            animation: tetris-pulse 2s infinite 0.4s;
        }
        .tetris-piece-j { 
            background-color: #6a6af7;
            animation: tetris-pulse 2s infinite 0.5s;
        }
        .tetris-piece-l { 
            background-color: #f7a06a;
            animation: tetris-pulse 2s infinite 0.6s;
        }

        @keyframes tetris-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .tetris-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .tetris-buttons {
            display: flex;
            gap: 10px;
        }

        /* System Info */
        .system-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .system-card {
            background-color: #2a2a4a;
            border: 2px solid #4a4a6e;
            border-radius: 8px;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        .system-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                45deg,
                transparent 40%,
                rgba(106, 247, 106, 0.05) 50%,
                transparent 60%
            );
            animation: card-scan 3s linear infinite;
        }

        @keyframes card-scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .card-title {
            font-family: 'Press Start 2P', cursive;
            font-size: 14px;
            color: #6af76a;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #4a4a6e;
            position: relative;
            z-index: 1;
        }

        .info-item {
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            position: relative;
            z-index: 1;
        }

        .info-label {
            color: #a0a0ff;
            font-size: 13px;
        }

        .info-value {
            color: #e0e0e0;
            font-size: 13px;
            font-family: 'Roboto Mono', monospace;
        }

        /* File Explorer */
        .explorer-container {
            display: flex;
            height: 100%;
        }

        .explorer-sidebar {
            width: 200px;
            background-color: #2a2a4a;
            border-right: 2px solid #4a4a6e;
            padding: 20px;
            overflow-y: auto;
        }

        .explorer-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .folder-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .folder-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .folder-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 106, 0.1),
                transparent
            );
            transition: left 0.3s;
        }

        .folder-item:hover::before {
            left: 100%;
        }

        .folder-item:hover {
            background-color: #3a3a5e;
        }

        .folder-item.active {
            background-color: #5a5a8e;
        }

        .file-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
        }

        .file-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .file-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 247, 0.1),
                transparent
            );
            transition: left 0.3s;
        }

        .file-item:hover::before {
            left: 100%;
        }

        .file-item:hover {
            background-color: rgba(58, 58, 94, 0.3);
            transform: translateY(-2px);
        }

        /* Settings */
        .settings-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 20px;
            height: 100%;
            padding: 20px;
        }

        .settings-sidebar {
            background-color: #2a2a4a;
            border-radius: 8px;
            padding: 20px;
        }

        .settings-content {
            background-color: #2a2a4a;
            border-radius: 8px;
            padding: 30px;
        }

        .settings-category {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .settings-category::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(106, 247, 106, 0.1),
                transparent
            );
            transition: left 0.3s;
        }

        .settings-category:hover::before {
            left: 100%;
        }

        .settings-category:hover {
            background-color: #3a3a5e;
        }

        .settings-category.active {
            background-color: #5a5a8e;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #2a2a4a;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: #4a4a6e;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #5a5a8e;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .window-instance {
                min-width: 300px;
                min-height: 200px;
            }
            
            .snake-game, .tetris-game {
                width: 300px;
                height: 300px;
            }
            
            .desktop {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
        }

        @media (max-width: 480px) {
            .login-window, .setup-window {
                width: 95%;
            }
            
            .start-menu {
                width: 300px;
            }
            
            .snake-game, .tetris-game {
                width: 250px;
                height: 250px;
            }
            
            .desktop {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }
        }
    </style>
</head>
<body>
    <!-- Glitch Effects -->
    <div class="screen-glitch"></div>
    <div class="scanlines"></div>

    <!-- Language Selector -->
    <div class="language-selector">
        <select id="language-select" class="select-field" style="width: 120px;">
            <option value="en">English</option>
            <option value="hu">Magyar</option>
        </select>
    </div>

    <!-- Login Screen -->
    <div id="login-screen" class="screen">
        <div class="window login-window">
            <div class="window-header">
                <div class="window-title">üîê REAPER OS LOGIN</div>
                <div class="window-controls">
                    <button class="window-btn minimize">‚îÄ</button>
                    <button class="window-btn maximize">‚ñ°</button>
                    <button class="window-btn close">‚úï</button>
                </div>
            </div>
            <div class="window-content">
                <div class="login-header">
                    <div class="login-title glitch-text" data-text="REAPER OS">REAPER OS</div>
                    <div class="login-subtitle" id="login-subtitle">MINECRAFT-INSPIRED OPERATING SYSTEM</div>
                </div>
                
                <div class="login-form">
                    <div class="form-group">
                        <label class="form-label" id="username-label">USERNAME</label>
                        <input type="text" id="username-input" class="input-field" placeholder="admin" value="admin" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" id="password-label">PASSWORD</label>
                        <input type="password" id="password-input" class="input-field" placeholder="Enter admin password" autofocus>
                        <div style="font-size: 10px; color: #8080a0; margin-top: 5px; display: none;" id="password-hint">
                            <!-- No hint shown -->
                        </div>
                    </div>
                    
                    <div class="login-actions">
                        <button id="login-button" class="btn btn-primary">Login</button>
                        <button id="skip-login" class="btn btn-warning">Skip Setup</button>
                    </div>
                    
                    <div class="password-note" id="password-note">
                        Enter admin password to configure system hardware
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Setup Screen -->
    <div id="setup-screen" class="screen hidden">
        <div class="window setup-window">
            <div class="window-header">
                <div class="window-title">‚öôÔ∏è REAPER OS SETUP</div>
                <div class="window-controls">
                    <button class="window-btn minimize">‚îÄ</button>
                    <button class="window-btn maximize">‚ñ°</button>
                    <button class="window-btn close">‚úï</button>
                </div>
            </div>
            <div class="window-content">
                <div class="setup-header">
                    <div class="setup-title" id="setup-title">SYSTEM SETUP</div>
                    <div class="setup-subtitle" id="setup-subtitle">Configuring your ReaperOS installation</div>
                </div>
                
                <div class="setup-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="setup-progress" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="progress-text">0% Complete</div>
                </div>
                
                <div class="setup-steps">
                    <div class="setup-step step-active" id="step1">
                        <div class="step-title" id="step1-title">Step 1: System Check</div>
                        <div class="step-desc" id="step1-desc">Initializing system components...</div>
                    </div>
                    
                    <div class="setup-step" id="step2">
                        <div class="step-title" id="step2-title">Step 2: Hardware Detection</div>
                        <div class="step-desc" id="step2-desc">Detecting system hardware...</div>
                    </div>
                    
                    <div class="setup-step" id="step3">
                        <div class="step-title" id="step3-title">Step 3: Driver Installation</div>
                        <div class="step-desc" id="step3-desc">Installing necessary drivers...</div>
                    </div>
                    
                    <div class="setup-step" id="step4">
                        <div class="step-title" id="step4-title">Step 4: Application Setup</div>
                        <div class="step-desc" id="step4-desc">Setting up applications...</div>
                    </div>
                    
                    <div class="setup-step" id="step5">
                        <div class="step-title" id="step5-title">Step 5: Final Configuration</div>
                        <div class="step-desc" id="step5-desc">Applying system settings...</div>
                    </div>
                </div>
                
                <div style="margin-top: 30px; text-align: center;">
                    <button id="complete-setup" class="btn btn-primary" style="padding: 12px 40px;" disabled>
                        COMPLETE SETUP
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- OS Screen -->
    <div id="os-screen" class="screen hidden">
        <!-- Desktop Icons -->
        <div class="desktop">
            <div class="desktop-icon" id="desktop-terminal" data-app="terminal">
                <div class="icon-image">üíª</div>
                <div class="icon-label" id="desktop-terminal-label">Terminal</div>
            </div>
            
            <div class="desktop-icon" id="desktop-code" data-app="code-editor">
                <div class="icon-image">üìù</div>
                <div class="icon-label" id="desktop-code-label">Code Editor</div>
            </div>
            
            <div class="desktop-icon" id="desktop-games" data-app="games">
                <div class="icon-image">üéÆ</div>
                <div class="icon-label" id="desktop-games-label">Games</div>
            </div>
            
            <div class="desktop-icon" id="desktop-files" data-app="file-explorer">
                <div class="icon-image">üìÅ</div>
                <div class="icon-label" id="desktop-files-label">File Explorer</div>
            </div>
            
            <div class="desktop-icon" id="desktop-system" data-app="system-info">
                <div class="icon-image">‚öôÔ∏è</div>
                <div class="icon-label" id="desktop-system-label">System Info</div>
            </div>
            
            <div class="desktop-icon" id="desktop-settings" data-app="settings">
                <div class="icon-image">üîß</div>
                <div class="icon-label" id="desktop-settings-label">Settings</div>
            </div>
        </div>

        <!-- Taskbar -->
        <div class="taskbar">
            <div class="taskbar-left">
                <button id="start-btn" class="start-btn">
                    <span>üè†</span>
                    <span>Start</span>
                </button>
            </div>
            
            <div class="taskbar-center">
                <div class="taskbar-app" data-app="terminal">üíª Terminal</div>
                <div class="taskbar-app" data-app="code-editor">üìù Code</div>
                <div class="taskbar-app" data-app="games">üéÆ Games</div>
            </div>
            
            <div class="taskbar-right">
                <div class="system-tray">
                    <div class="tray-item">üì∂</div>
                    <div class="tray-item">üîä</div>
                    <div class="tray-item">üîã</div>
                </div>
                <div class="time-display" id="time-display">00:00:00</div>
            </div>
        </div>

        <!-- Start Menu -->
        <div id="start-menu" class="start-menu">
            <div class="start-header">
                <div class="start-title">REAPER OS</div>
                <div class="start-user">User: admin</div>
            </div>
            <div class="start-apps">
                <div class="app-list">
                    <div class="app-item" data-app="terminal">
                        <div class="app-icon">üíª</div>
                        <div class="app-name">Terminal</div>
                    </div>
                    <div class="app-item" data-app="code-editor">
                        <div class="app-icon">üìù</div>
                        <div class="app-name">Code Editor</div>
                    </div>
                    <div class="app-item" data-app="games">
                        <div class="app-icon">üéÆ</div>
                        <div class="app-name">Games</div>
                    </div>
                    <div class="app-item" data-app="file-explorer">
                        <div class="app-icon">üìÅ</div>
                        <div class="app-name">File Explorer</div>
                    </div>
                    <div class="app-item" data-app="system-info">
                        <div class="app-icon">‚öôÔ∏è</div>
                        <div class="app-name">System Info</div>
                    </div>
                    <div class="app-item" data-app="settings">
                        <div class="app-icon">üîß</div>
                        <div class="app-name">Settings</div>
                    </div>
                    <div class="app-item" data-action="shutdown">
                        <div class="app-icon">‚èª</div>
                        <div class="app-name">Shutdown</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Window Manager -->
        <div class="window-manager" id="window-manager">
            <!-- Windows will be created here dynamically -->
        </div>
    </div>

    <script>
        // Language translations
        const translations = {
            en: {
                // Login screen
                loginSubtitle: "MINECRAFT-INSPIRED OPERATING SYSTEM",
                usernameLabel: "USERNAME",
                passwordLabel: "PASSWORD",
                loginButton: "Login",
                skipLogin: "Skip Setup",
                passwordNote: "Enter admin password to configure system hardware",
                
                // Setup screen
                setupTitle: "SYSTEM SETUP",
                setupSubtitle: "Configuring your ReaperOS installation",
                step1Title: "Step 1: System Check",
                step1Desc: "Initializing system components...",
                step2Title: "Step 2: Hardware Detection",
                step2Desc: "Detecting system hardware...",
                step3Title: "Step 3: Driver Installation",
                step3Desc: "Installing necessary drivers...",
                step4Title: "Step 4: Application Setup",
                step4Desc: "Setting up applications...",
                step5Title: "Step 5: Final Configuration",
                step5Desc: "Applying system settings...",
                completeSetup: "COMPLETE SETUP",
                
                // Desktop
                desktopTerminalLabel: "Terminal",
                desktopCodeLabel: "Code Editor",
                desktopGamesLabel: "Games",
                desktopFilesLabel: "File Explorer",
                desktopSystemLabel: "System Info",
                desktopSettingsLabel: "Settings"
            },
            hu: {
                // Login screen
                loginSubtitle: "MINECRAFT-ST√çLUS√ö OPER√ÅCI√ìS RENDSZER",
                usernameLabel: "FELHASZN√ÅL√ìN√âV",
                passwordLabel: "JELSZ√ì",
                loginButton: "Bejelentkez√©s",
                skipLogin: "Be√°ll√≠t√°s Kihagy√°sa",
                passwordNote: "Add meg az admin jelsz√≥t a rendszer konfigur√°l√°s√°hoz",
                
                // Setup screen
                setupTitle: "RENDSZER BE√ÅLL√çT√ÅS",
                setupSubtitle: "ReaperOS telep√≠t√©s konfigur√°l√°sa",
                step1Title: "1. l√©p√©s: Rendszer Ellen≈ërz√©s",
                step1Desc: "Rendszer komponensek inicializ√°l√°sa...",
                step2Title: "2. l√©p√©s: Hardver √âszlel√©s",
                step2Desc: "Rendszer hardver √©szlel√©se...",
                step3Title: "3. l√©p√©s: Driver Telep√≠t√©s",
                step3Desc: "Sz√ºks√©ges driverek telep√≠t√©se...",
                step4Title: "4. l√©p√©s: Alkalmaz√°sok Be√°ll√≠t√°sa",
                step4Desc: "Alkalmaz√°sok be√°ll√≠t√°sa...",
                step5Title: "5. l√©p√©s: V√©gs≈ë Konfigur√°ci√≥",
                step5Desc: "Rendszer be√°ll√≠t√°sok alkalmaz√°sa...",
                completeSetup: "BE√ÅLL√çT√ÅS BEFEJEZ√âSE",
                
                // Desktop
                desktopTerminalLabel: "Termin√°l",
                desktopCodeLabel: "K√≥dszerkeszt≈ë",
                desktopGamesLabel: "J√°t√©kok",
                desktopFilesLabel: "F√°jlkezel≈ë",
                desktopSystemLabel: "Rendszer inform√°ci√≥k",
                desktopSettingsLabel: "Be√°ll√≠t√°sok"
            }
        };

        // System configuration
        let systemConfig = {
            username: "admin",
            language: "en",
            hardware: {
                cpu: "Unknown",
                gpu: "Unknown",
                ram: "Unknown",
                storage: "Unknown"
            }
        };

        // Current language
        let currentLang = "en";

        // Application state
        let openWindows = [];
        let activeWindow = null;
        let isStartMenuOpen = false;
        let currentApp = null;

        // Games state
        let snakeGame = null;
        let tetrisGame = null;

        // Terminal history
        let terminalHistory = [];
        let historyIndex = -1;

        // Secret password - NOT "rvx"
        const SECRET_PASSWORD = "REAPER42";

        // DOM elements
        const loginScreen = document.getElementById('login-screen');
        const setupScreen = document.getElementById('setup-screen');
        const osScreen = document.getElementById('os-screen');
        const windowManager = document.getElementById('window-manager');
        const startMenu = document.getElementById('start-menu');
        const startBtn = document.getElementById('start-btn');

        // Initialize the OS
        document.addEventListener('DOMContentLoaded', function() {
            console.log("ReaperOS Initializing...");
            
            // Add random glitch effects
            setupGlitchEffects();
            
            // Set focus to password input
            document.getElementById('password-input').focus();
            
            // Set up language selector
            const languageSelect = document.getElementById('language-select');
            languageSelect.addEventListener('change', function() {
                currentLang = this.value;
                systemConfig.language = currentLang;
                updateLanguage();
            });

            // Login functionality
            document.getElementById('login-button').addEventListener('click', login);
            document.getElementById('password-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') login();
            });

            // Skip login button
            document.getElementById('skip-login').addEventListener('click', function() {
                console.log("Skipping to setup...");
                showScreen(setupScreen);
                startSetupProcess();
            });

            // Setup completion
            document.getElementById('complete-setup').addEventListener('click', completeSetup);

            // Start menu
            startBtn.addEventListener('click', toggleStartMenu);
            document.addEventListener('click', function(e) {
                if (!startMenu.contains(e.target) && e.target !== startBtn) {
                    closeStartMenu();
                }
            });

            // App items in start menu
            document.querySelectorAll('.app-item').forEach(item => {
                item.addEventListener('click', function() {
                    const app = this.getAttribute('data-app');
                    const action = this.getAttribute('data-action');
                    
                    if (action === 'shutdown') {
                        if (confirm(currentLang === 'en' ? 'Shutdown ReaperOS?' : 'Le√°ll√≠tod a ReaperOS-t?')) {
                            document.body.innerHTML = `
                                <div style="display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #0a0a1a; color: #6af76a; font-family: 'Press Start 2P', cursive; font-size: 24px;">
                                    ${currentLang === 'en' ? 'SYSTEM SHUTDOWN' : 'RENDSZER LE√ÅLL√çT√ÅS'}
                                </div>
                            `;
                        }
                        return;
                    }
                    
                    openApp(app);
                    closeStartMenu();
                });
            });

            // Desktop icons
            document.querySelectorAll('.desktop-icon').forEach(icon => {
                icon.addEventListener('dblclick', function() {
                    const app = this.getAttribute('data-app');
                    openApp(app);
                });
            });

            // Taskbar apps
            document.querySelectorAll('.taskbar-app').forEach(app => {
                app.addEventListener('click', function() {
                    const appName = this.getAttribute('data-app');
                    const window = openWindows.find(w => w.app === appName);
                    
                    if (window) {
                        if (window.element.classList.contains('minimized')) {
                            window.element.classList.remove('minimized');
                            bringToFront(window);
                        } else {
                            window.element.classList.add('minimized');
                        }
                        updateTaskbar();
                    } else {
                        openApp(appName);
                    }
                });
            });

            // Initialize with English
            updateLanguage();
            
            // Auto-focus password field
            setTimeout(() => {
                document.getElementById('password-input').focus();
            }, 500);
            
            // Initialize time display
            updateTime();
            setInterval(updateTime, 1000);
            
            // Random glitch effects
            setInterval(triggerRandomGlitch, 5000);
        });

        // Setup glitch effects
        function setupGlitchEffects() {
            // Add glitch effect to title
            const title = document.querySelector('.login-title');
            if (title) {
                title.setAttribute('data-text', title.textContent);
            }
            
            // Add scanlines to all screens
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => {
                const scanlines = document.createElement('div');
                scanlines.className = 'scanlines';
                screen.appendChild(scanlines);
            });
        }

        // Trigger random glitch effect
        function triggerRandomGlitch() {
            const glitches = [
                () => {
                    // Screen flicker
                    document.querySelector('.screen-glitch').style.opacity = '0.2';
                    setTimeout(() => {
                        document.querySelector('.screen-glitch').style.opacity = '0';
                    }, 100);
                },
                () => {
                    // Text glitch
                    const elements = document.querySelectorAll('.window-title, .btn, .prompt');
                    elements.forEach(el => {
                        const original = el.textContent;
                        el.textContent = original.split('').map(c => 
                            Math.random() > 0.9 ? String.fromCharCode(33 + Math.random() * 94) : c
                        ).join('');
                        setTimeout(() => el.textContent = original, 50);
                    });
                },
                () => {
                    // Color shift
                    document.body.style.filter = 'hue-rotate(90deg)';
                    setTimeout(() => {
                        document.body.style.filter = '';
                    }, 100);
                },
                () => {
                    // Position shake
                    document.querySelector('.window:not(.hidden)').style.transform = 'translate(2px, 2px)';
                    setTimeout(() => {
                        document.querySelector('.window:not(.hidden)').style.transform = '';
                    }, 50);
                }
            ];
            
            if (Math.random() > 0.7) {
                glitches[Math.floor(Math.random() * glitches.length)]();
            }
        }

        // Function to update all text based on current language
        function updateLanguage() {
            const lang = translations[currentLang];
            
            // Update all elements with translations
            for (const [key, value] of Object.entries(lang)) {
                const elements = document.querySelectorAll(`[id="${key}"]`);
                elements.forEach(element => {
                    element.textContent = value;
                });
            }
            
            // Update window titles
            openWindows.forEach(window => {
                if (window.updateTitle) {
                    window.updateTitle();
                }
            });
        }

        // Login function
        function login() {
            const password = document.getElementById('password-input').value;
            
            if (password === SECRET_PASSWORD) {
                console.log("Admin login successful");
                showScreen(setupScreen);
                startSetupProcess();
            } else {
                // Wrong password - glitch effect
                const input = document.getElementById('password-input');
                input.classList.add('error');
                input.value = '';
                
                // Random error message with glitch
                const messages = [
                    "Access denied",
                    "Authentication failed",
                    "Invalid credentials",
                    "Security violation",
                    "Unauthorized access",
                    "System breach detected"
                ];
                
                const errorMsg = messages[Math.floor(Math.random() * messages.length)];
                showNotification(errorMsg, 'error');
                
                // Trigger glitch effect
                triggerRandomGlitch();
                
                // Focus input after animation
                setTimeout(() => {
                    input.classList.remove('error');
                    input.focus();
                }, 500);
            }
        }

        // Show a specific screen
        function showScreen(screen) {
            const screens = [loginScreen, setupScreen, osScreen];
            screens.forEach(s => {
                if (s === screen) {
                    s.classList.remove('hidden');
                    setTimeout(() => {
                        s.style.opacity = '1';
                        s.style.transform = 'translateY(0)';
                    }, 10);
                } else {
                    s.style.opacity = '0';
                    s.style.transform = 'translateY(20px)';
                    setTimeout(() => {
                        s.classList.add('hidden');
                    }, 500);
                }
            });
        }

        // Start setup process
        function startSetupProcess() {
            console.log("Starting setup process...");
            
            let progress = 0;
            const progressBar = document.getElementById('setup-progress');
            const progressText = document.getElementById('progress-text');
            const completeBtn = document.getElementById('complete-setup');
            
            const steps = document.querySelectorAll('.setup-step');
            
            const updateStep = (stepIndex, status) => {
                steps.forEach((step, index) => {
                    if (index < stepIndex) {
                        step.classList.add('step-active');
                    } else if (index === stepIndex) {
                        step.classList.add('step-active');
                        const desc = step.querySelector('.step-desc');
                        if (desc) {
                            desc.textContent = status;
                        }
                    } else {
                        step.classList.remove('step-active');
                    }
                });
            };
            
            const interval = setInterval(() => {
                progress += 2;
                progressBar.style.width = progress + '%';
                progressText.textContent = progress + '% ' + (currentLang === 'en' ? 'Complete' : 'K√©sz');
                
                if (progress >= 20) updateStep(0, currentLang === 'en' ? 'System check passed' : 'Rendszer ellen≈ërz√©s sikeres');
                if (progress >= 40) updateStep(1, currentLang === 'en' ? 'Hardware detected successfully' : 'Hardver sikeresen √©szlelve');
                if (progress >= 60) updateStep(2, currentLang === 'en' ? 'Drivers installed' : 'Driverek telep√≠tve');
                if (progress >= 80) updateStep(3, currentLang === 'en' ? 'Applications ready' : 'Alkalmaz√°sok k√©szen √°llnak');
                if (progress >= 100) {
                    updateStep(4, currentLang === 'en' ? 'Configuration applied' : 'Konfigur√°ci√≥ alkalmazva');
                    completeBtn.disabled = false;
                    clearInterval(interval);
                    
                    // Auto-detect hardware (simulated)
                    systemConfig.hardware = {
                        cpu: "Intel Core i7-12700K",
                        gpu: "NVIDIA GeForce RTX 4070",
                        ram: "32 GB DDR5",
                        storage: "1 TB NVMe SSD"
                    };
                    
                    // Trigger glitch effect
                    triggerRandomGlitch();
                }
            }, 100);
        }

        // Complete setup and boot into OS
        function completeSetup() {
            console.log("Booting into ReaperOS...");
            showScreen(osScreen);
            
            // Show welcome notification with glitch
            setTimeout(() => {
                showNotification(currentLang === 'en' 
                    ? 'Welcome to ReaperOS! Double-click desktop icons or use the Start menu to launch applications.'
                    : '√údv√∂z√∂l a ReaperOS-ban! Dupla kattint√°s az asztali ikonokra vagy a Start men√º haszn√°lata az alkalmaz√°sok ind√≠t√°s√°hoz.'
                );
            }, 1000);
            
            // Trigger glitch effect
            triggerRandomGlitch();
        }

        // Update time display
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            document.getElementById('time-display').textContent = timeString;
            
            // Random time glitch
            if (Math.random() > 0.95) {
                const display = document.getElementById('time-display');
                const original = display.textContent;
                display.textContent = original.split('').map(c => 
                    Math.random() > 0.8 ? String.fromCharCode(48 + Math.random() * 10) : c
                ).join('');
                setTimeout(() => display.textContent = original, 100);
            }
        }

        // Toggle start menu
        function toggleStartMenu() {
            isStartMenuOpen = !isStartMenuOpen;
            if (isStartMenuOpen) {
                startMenu.classList.add('active');
            } else {
                startMenu.classList.remove('active');
            }
        }

        // Close start menu
        function closeStartMenu() {
            isStartMenuOpen = false;
            startMenu.classList.remove('active');
        }

        // Open application
        function openApp(appName) {
            console.log(`Opening app: ${appName}`);
            
            // Check if window is already open
            const existingWindow = openWindows.find(w => w.app === appName);
            if (existingWindow) {
                if (existingWindow.element.classList.contains('minimized')) {
                    existingWindow.element.classList.remove('minimized');
                }
                bringToFront(existingWindow);
                updateTaskbar();
                return;
            }
            
            // Create new window
            let windowConfig;
            switch(appName) {
                case 'terminal':
                    windowConfig = createTerminalWindow();
                    break;
                case 'code-editor':
                    windowConfig = createCodeEditorWindow();
                    break;
                case 'games':
                    windowConfig = createGamesWindow();
                    break;
                case 'file-explorer':
                    windowConfig = createFileExplorerWindow();
                    break;
                case 'system-info':
                    windowConfig = createSystemInfoWindow();
                    break;
                case 'settings':
                    windowConfig = createSettingsWindow();
                    break;
                default:
                    return;
            }
            
            windowConfig.app = appName;
            openWindows.push(windowConfig);
            bringToFront(windowConfig);
            updateTaskbar();
            
            // Trigger glitch effect
            triggerRandomGlitch();
        }

        // Create terminal window
        function createTerminalWindow() {
            const windowId = 'window-' + Date.now();
            const windowElement = document.createElement('div');
            windowElement.className = 'window window-instance';
            windowElement.id = windowId;
            windowElement.style.left = '100px';
            windowElement.style.top = '100px';
            windowElement.style.width = '700px';
            windowElement.style.height = '500px';
            
            windowElement.innerHTML = `
                <div class="window-header">
                    <div class="window-title">üíª ${currentLang === 'en' ? 'TERMINAL' : 'TERMIN√ÅL'}</div>
                    <div class="window-controls">
                        <button class="window-btn minimize">‚îÄ</button>
                        <button class="window-btn maximize">‚ñ°</button>
                        <button class="window-btn close">‚úï</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="terminal-container">
                        <div class="terminal-header">
                            <div class="terminal-title">${currentLang === 'en' ? 'ReaperOS Terminal v2.0' : 'ReaperOS Termin√°l v2.0'}</div>
                        </div>
                        <div class="terminal-toolbar">
                            <button class="btn" id="${windowId}-clear">${currentLang === 'en' ? 'Clear' : 'T√∂rl√©s'}</button>
                            <button class="btn" id="${windowId}-help">${currentLang === 'en' ? 'Help' : 'S√∫g√≥'}</button>
                            <button class="btn" id="${windowId}-system">${currentLang === 'en' ? 'System Info' : 'Rendszer Info'}</button>
                        </div>
                        <div class="terminal-body" id="${windowId}-output">
                            <div class="terminal-line">
                                <span class="prompt">admin@reaperos:~$ </span>
                                <span class="cmd-output">${currentLang === 'en' ? 'Welcome to ReaperOS Terminal' : '√údv√∂z√∂l a ReaperOS Termin√°lban'}</span>
                            </div>
                            <div class="terminal-line">
                                <span class="prompt">admin@reaperos:~$ </span>
                                <span class="cmd-output">${currentLang === 'en' ? 'Type "help" for available commands' : '√çrd be a "help" parancsot az el√©rhet≈ë parancsok√©rt'}</span>
                            </div>
                        </div>
                        <div class="terminal-input">
                            <span class="prompt">admin@reaperos:~$ </span>
                            <input type="text" class="cmd-input" id="${windowId}-input" autocomplete="off">
                        </div>
                    </div>
                </div>
            `;
            
            windowManager.appendChild(windowElement);
            
            // Setup window controls
            setupWindowControls(windowElement);
            
            // Setup terminal functionality
            const output = document.getElementById(`${windowId}-output`);
            const input = document.getElementById(`${windowId}-input`);
            const clearBtn = document.getElementById(`${windowId}-clear`);
            const helpBtn = document.getElementById(`${windowId}-help`);
            const systemBtn = document.getElementById(`${windowId}-system`);
            
            clearBtn.addEventListener('click', () => {
                output.innerHTML = '';
                addTerminalOutput(windowId, currentLang === 'en' ? 'Terminal cleared' : 'Termin√°l t√∂r√∂lve');
            });
            
            helpBtn.addEventListener('click', () => {
                executeCommand(windowId, 'help');
            });
            
            systemBtn.addEventListener('click', () => {
                executeCommand(windowId, 'system');
            });
            
            input.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const command = input.value.trim();
                    input.value = '';
                    
                    if (command) {
                        // Add command to history
                        terminalHistory.push(command);
                        historyIndex = terminalHistory.length;
                        
                        // Display command
                        addTerminalLine(windowId, `admin@reaperos:~$ ${command}`);
                        
                        // Execute command
                        executeCommand(windowId, command);
                        
                        // Random glitch on certain commands
                        if (Math.random() > 0.7 && command.toLowerCase().includes('sys')) {
                            triggerRandomGlitch();
                        }
                    }
                }
            });
            
            input.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    if (historyIndex > 0) {
                        historyIndex--;
                        input.value = terminalHistory[historyIndex];
                    }
                } else if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    if (historyIndex < terminalHistory.length - 1) {
                        historyIndex++;
                        input.value = terminalHistory[historyIndex];
                    } else {
                        historyIndex = terminalHistory.length;
                        input.value = '';
                    }
                }
            });
            
            // Focus input
            setTimeout(() => input.focus(), 100);
            
            return {
                element: windowElement,
                id: windowId,
                updateTitle: () => {
                    const title = windowElement.querySelector('.window-title');
                    title.textContent = `üíª ${currentLang === 'en' ? 'TERMINAL' : 'TERMIN√ÅL'}`;
                }
            };
        }

        // Add terminal line
        function addTerminalLine(windowId, text) {
            const output = document.getElementById(`${windowId}-output`);
            const line = document.createElement('div');
            line.className = 'terminal-line';
            line.innerHTML = text;
            output.appendChild(line);
            output.scrollTop = output.scrollHeight;
        }

        // Add terminal output
        function addTerminalOutput(windowId, text, type = 'output') {
            const line = document.createElement('div');
            line.className = 'terminal-line';
            line.innerHTML = `<span class="cmd-${type}">${text}</span>`;
            document.getElementById(`${windowId}-output`).appendChild(line);
            document.getElementById(`${windowId}-output`).scrollTop = document.getElementById(`${windowId}-output`).scrollHeight;
        }

        // Execute terminal command
        function executeCommand(windowId, command) {
            const cmd = command.toLowerCase().split(' ')[0];
            const args = command.split(' ').slice(1);
            
            // Easter egg commands
            if (command.toLowerCase().includes('secret') || command.toLowerCase().includes('password')) {
                addTerminalOutput(windowId, currentLang === 'en' 
                    ? 'Accessing secure data... [REDACTED]'
                    : 'Biztons√°gos adatok el√©r√©se... [REDACTED]',
                    'error'
                );
                triggerRandomGlitch();
                return;
            }
            
            switch(cmd) {
                case 'help':
                    addTerminalOutput(windowId, currentLang === 'en' 
                        ? 'Available commands:\n' +
                          '  help        - Show this help message\n' +
                          '  clear       - Clear terminal screen\n' +
                          '  system      - Display system information\n' +
                          '  date        - Show current date and time\n' +
                          '  echo [text] - Display text\n' +
                          '  games       - List available games\n' +
                          '  snake       - Start Snake game\n' +
                          '  tetris      - Start Tetris game\n' +
                          '  shutdown    - Shutdown system\n' +
                          '  reboot      - Reboot system\n' +
                          '  glitch      - Trigger system glitch'
                        : 'El√©rhet≈ë parancsok:\n' +
                          '  help        - Seg√≠ts√©g megjelen√≠t√©se\n' +
                          '  clear       - Termin√°l k√©perny≈ë t√∂rl√©se\n' +
                          '  system      - Rendszer inform√°ci√≥k\n' +
                          '  date        - Aktu√°lis d√°tum √©s id≈ë\n' +
                          '  echo [sz√∂veg] - Sz√∂veg megjelen√≠t√©se\n' +
                          '  games       - El√©rhet≈ë j√°t√©kok list√°ja\n' +
                          '  snake       - Snake j√°t√©k ind√≠t√°sa\n' +
                          '  tetris      - Tetris j√°t√©k ind√≠t√°sa\n' +
                          '  shutdown    - Rendszer le√°ll√≠t√°s\n' +
                          '  reboot      - Rendszer √∫jraind√≠t√°s\n' +
                          '  glitch      - Rendszer glitch aktiv√°l√°sa'
                    );
                    break;
                    
                case 'clear':
                    document.getElementById(`${windowId}-output`).innerHTML = '';
                    break;
                    
                case 'system':
                    addTerminalOutput(windowId, currentLang === 'en' 
                        ? `ReaperOS v2.0 [GLITCH EDITION]\n` +
                          `CPU: ${systemConfig.hardware.cpu}\n` +
                          `GPU: ${systemConfig.hardware.gpu}\n` +
                          `RAM: ${systemConfig.hardware.ram}\n` +
                          `Storage: ${systemConfig.hardware.storage}\n` +
                          `Language: ${currentLang === 'en' ? 'English' : 'Magyar'}\n` +
                          `Security: [ENCRYPTED]`
                        : `ReaperOS v2.0 [GLITCH KIAD√ÅS]\n` +
                          `CPU: ${systemConfig.hardware.cpu}\n` +
                          `GPU: ${systemConfig.hardware.gpu}\n` +
                          `RAM: ${systemConfig.hardware.ram}\n` +
                          `T√°rol√≥: ${systemConfig.hardware.storage}\n` +
                          `Nyelv: ${currentLang === 'en' ? 'Angol' : 'Magyar'}\n` +
                          `Biztons√°g: [TITKOS√çTVA]`
                    );
                    break;
                    
                case 'date':
                    const now = new Date();
                    addTerminalOutput(windowId, now.toString());
                    break;
                    
                case 'echo':
                    addTerminalOutput(windowId, args.join(' '));
                    break;
                    
                case 'games':
                    addTerminalOutput(windowId, currentLang === 'en' 
                        ? 'Available games:\n' +
                          '  snake   - Classic Snake game\n' +
                          '  tetris  - Classic Tetris game\n' +
                          '  Type "snake" or "tetris" to start a game'
                        : 'El√©rhet≈ë j√°t√©kok:\n' +
                          '  snake   - Klasszikus Snake j√°t√©k\n' +
                          '  tetris  - Klasszikus Tetris j√°t√©k\n' +
                          '  √çrd be a "snake" vagy "tetris" parancsot a j√°t√©k ind√≠t√°s√°hoz'
                    );
                    break;
                    
                case 'snake':
                    openApp('games');
                    setTimeout(() => {
                        const gameWindow = openWindows.find(w => w.app === 'games');
                        if (gameWindow) {
                            const startBtn = gameWindow.element.querySelector('#start-snake');
                            if (startBtn) startBtn.click();
                        }
                    }, 100);
                    addTerminalOutput(windowId, currentLang === 'en' 
                        ? 'Opening Snake game...' 
                        : 'Snake j√°t√©k megnyit√°sa...'
                    );
                    break;
                    
                case 'tetris':
                    openApp('games');
                    setTimeout(() => {
                        const gameWindow = openWindows.find(w => w.app === 'games');
                        if (gameWindow) {
                            const startBtn = gameWindow.element.querySelector('#start-tetris');
                            if (startBtn) startBtn.click();
                        }
                    }, 100);
                    addTerminalOutput(windowId, currentLang === 'en' 
                        ? 'Opening Tetris game...' 
                        : 'Tetris j√°t√©k megnyit√°sa...'
                    );
                    break;
                    
                case 'shutdown':
                    if (confirm(currentLang === 'en' ? 'Shutdown system?' : 'Le√°ll√≠tod a rendszert?')) {
                        document.body.innerHTML = `
                            <div style="display: flex; justify-content: center; align-items: center; height: 100vh; background-color: #0a0a1a; color: #6af76a; font-family: 'Press Start 2P', cursive; font-size: 24px;">
                                ${currentLang === 'en' ? 'SYSTEM SHUTDOWN' : 'RENDSZER LE√ÅLL√çT√ÅS'}
                            </div>
                        `;
                    }
                    break;
                    
                case 'reboot':
                    if (confirm(currentLang === 'en' ? 'Reboot system?' : '√öjraind√≠tod a rendszert?')) {
                        location.reload();
                    }
                    break;
                    
                case 'glitch':
                    addTerminalOutput(windowId, currentLang === 'en' 
                        ? 'Triggering system glitch...' 
                        : 'Rendszer glitch aktiv√°l√°sa...'
                    );
                    triggerRandomGlitch();
                    break;
                    
                default:
                    addTerminalOutput(windowId, currentLang === 'en' 
                        ? `Command not found: ${command}. Type "help" for available commands.`
                        : `Parancs nem tal√°lhat√≥: ${command}. √çrd be a "help" parancsot az el√©rhet≈ë parancsok√©rt.`,
                        'error'
                    );
                    
                    // Random glitch on unknown command
                    if (Math.random() > 0.5) {
                        triggerRandomGlitch();
                    }
            }
        }

        // Create code editor window
        function createCodeEditorWindow() {
            const windowId = 'window-' + Date.now();
            const windowElement = document.createElement('div');
            windowElement.className = 'window window-instance';
            windowElement.id = windowId;
            windowElement.style.left = '150px';
            windowElement.style.top = '150px';
            windowElement.style.width = '800px';
            windowElement.style.height = '600px';
            
            windowElement.innerHTML = `
                <div class="window-header">
                    <div class="window-title">üìù ${currentLang === 'en' ? 'CODE EDITOR' : 'K√ìDSZERKESZT≈ê'}</div>
                    <div class="window-controls">
                        <button class="window-btn minimize">‚îÄ</button>
                        <button class="window-btn maximize">‚ñ°</button>
                        <button class="window-btn close">‚úï</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="editor-container">
                        <div class="terminal-toolbar">
                            <button class="btn" id="${windowId}-new">${currentLang === 'en' ? 'New File' : '√öj f√°jl'}</button>
                            <button class="btn" id="${windowId}-open">${currentLang === 'en' ? 'Open' : 'Megnyit√°s'}</button>
                            <button class="btn" id="${windowId}-save">${currentLang === 'en' ? 'Save' : 'Ment√©s'}</button>
                            <button class="btn" id="${windowId}-run">${currentLang === 'en' ? 'Run' : 'Futtat√°s'}</button>
                            <button class="btn" id="${windowId}-glitch">${currentLang === 'en' ? 'Glitch' : 'Glitch'}</button>
                        </div>
                        <div class="editor-area" id="${windowId}-editor" contenteditable="true" spellcheck="false">
${currentLang === 'en' 
    ? '// Welcome to ReaperOS Code Editor\n' +
      '// Type your code here\n\n' +
      'function hello() {\n' +
      '    console.log("Hello ReaperOS!");\n' +
      '    return "Welcome to the best OS!";\n' +
      '}\n\n' +
      '// Run the function\n' +
      'hello();\n\n' +
      '// Easter egg: Type "glitch" for special effects'
    : '// √údv√∂z√∂l a ReaperOS K√≥dszerkeszt≈ëben\n' +
      '// √çrd ide a k√≥dod\n\n' +
      'function hello() {\n' +
      '    console.log("Hello ReaperOS!");\n' +
      '    return "√údv√∂z√∂l a legjobb OS-ben!";\n' +
      '}\n\n' +
      '// Funkci√≥ futtat√°sa\n' +
      'hello();\n\n' +
      '// Easter egg: √çrd be a "glitch"-t speci√°lis effektusok√©rt'
}</div>
                    </div>
                </div>
            `;
            
            windowManager.appendChild(windowElement);
            
            // Setup window controls
            setupWindowControls(windowElement);
            
            // Setup editor functionality
            const editor = document.getElementById(`${windowId}-editor`);
            const newBtn = document.getElementById(`${windowId}-new`);
            const openBtn = document.getElementById(`${windowId}-open`);
            const saveBtn = document.getElementById(`${windowId}-save`);
            const runBtn = document.getElementById(`${windowId}-run`);
            const glitchBtn = document.getElementById(`${windowId}-glitch`);
            
            newBtn.addEventListener('click', () => {
                if (confirm(currentLang === 'en' ? 'Create new file?' : '√öj f√°jl l√©trehoz√°sa?')) {
                    editor.textContent = currentLang === 'en' 
                        ? '// New file\n// Start coding here...'
                        : '// √öj f√°jl\n// Kezdj el k√≥dolni itt...';
                }
            });
            
            openBtn.addEventListener('click', () => {
                showNotification(currentLang === 'en' 
                    ? 'File browser would open here in full version'
                    : 'F√°jlkezel≈ë lenne itt a teljes verzi√≥ban'
                );
            });
            
            saveBtn.addEventListener('click', () => {
                const content = editor.textContent;
                // Simulate saving
                showNotification(currentLang === 'en' 
                    ? 'File saved successfully!'
                    : 'F√°jl sikeresen mentve!'
                );
            });
            
            runBtn.addEventListener('click', () => {
                const content = editor.textContent;
                // Simulate code execution
                const output = currentLang === 'en' 
                    ? 'Code executed successfully!\n' +
                      'Output: "Welcome to the best OS!"'
                    : 'K√≥d sikeresen lefuttatva!\n' +
                      'Kimenet: "√údv√∂z√∂l a legjobb OS-ben!"';
                
                showNotification(output);
                
                // Random glitch on run
                if (Math.random() > 0.7) {
                    triggerRandomGlitch();
                }
            });
            
            glitchBtn.addEventListener('click', () => {
                // Add glitch effect to editor
                const original = editor.textContent;
                const glitched = original.split('').map(c => 
                    Math.random() > 0.9 ? String.fromCharCode(33 + Math.random() * 94) : c
                ).join('');
                editor.textContent = glitched;
                
                setTimeout(() => {
                    editor.textContent = original;
                    triggerRandomGlitch();
                }, 500);
                
                showNotification(currentLang === 'en' 
                    ? 'Glitch effect applied!'
                    : 'Glitch effektus alkalmazva!'
                );
            });
            
            // Focus editor
            setTimeout(() => {
                editor.focus();
                // Move cursor to end
                const range = document.createRange();
                const selection = window.getSelection();
                range.selectNodeContents(editor);
                range.collapse(false);
                selection.removeAllRanges();
                selection.addRange(range);
            }, 100);
            
            return {
                element: windowElement,
                id: windowId,
                updateTitle: () => {
                    const title = windowElement.querySelector('.window-title');
                    title.textContent = `üìù ${currentLang === 'en' ? 'CODE EDITOR' : 'K√ìDSZERKESZT≈ê'}`;
                }
            };
        }

        // Create games window
        function createGamesWindow() {
            const windowId = 'window-' + Date.now();
            const windowElement = document.createElement('div');
            windowElement.className = 'window window-instance';
            windowElement.id = windowId;
            windowElement.style.left = '200px';
            windowElement.style.top = '100px';
            windowElement.style.width = '600px';
            windowElement.style.height = '700px';
            
            windowElement.innerHTML = `
                <div class="window-header">
                    <div class="window-title">üéÆ ${currentLang === 'en' ? 'GAMES' : 'J√ÅT√âKOK'}</div>
                    <div class="window-controls">
                        <button class="window-btn minimize">‚îÄ</button>
                        <button class="window-btn maximize">‚ñ°</button>
                        <button class="window-btn close">‚úï</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="games-container">
                        <div class="game-card" id="snake-game-card">
                            <div class="game-header">
                                <div class="game-icon">üêç</div>
                                <div class="game-title">${currentLang === 'en' ? 'SNAKE' : 'SNAKE'}</div>
                            </div>
                            <div class="game-desc">
                                ${currentLang === 'en' 
                                    ? 'Classic Snake game. Control the snake with arrow keys, eat food to grow, avoid walls and yourself.' 
                                    : 'Klasszikus Snake j√°t√©k. Ir√°ny√≠tsd a k√≠gy√≥t ny√≠l gombokkal, egy√©l √©telt a n√∂veked√©shez, ker√ºld a falakat √©s magadat.'}
                            </div>
                            <div class="game-controls">
                                <button class="btn" id="start-snake">${currentLang === 'en' ? 'Play Snake' : 'Snake J√°t√©k'}</button>
                                <button class="btn" id="snake-help">?</button>
                            </div>
                        </div>
                        
                        <div class="game-card" id="tetris-game-card">
                            <div class="game-header">
                                <div class="game-icon">üßä</div>
                                <div class="game-title">${currentLang === 'en' ? 'TETRIS' : 'TETRIS'}</div>
                            </div>
                            <div class="game-desc">
                                ${currentLang === 'en' 
                                    ? 'Classic Tetris game. Rotate and move falling blocks to complete lines. Use arrow keys to control.' 
                                    : 'Klasszikus Tetris j√°t√©k. Forgass √©s mozgasd az es≈ë blokkokat a sorok teljes√≠t√©s√©hez. Haszn√°ld a ny√≠l gombokat az ir√°ny√≠t√°shoz.'}
                            </div>
                            <div class="game-controls">
                                <button class="btn" id="start-tetris">${currentLang === 'en' ? 'Play Tetris' : 'Tetris J√°t√©k'}</button>
                                <button class="btn" id="tetris-help">?</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            windowManager.appendChild(windowElement);
            
            // Setup window controls
            setupWindowControls(windowElement);
            
            // Setup game functionality
            document.getElementById('start-snake').addEventListener('click', () => {
                startSnakeGame(windowId);
            });
            
            document.getElementById('snake-help').addEventListener('click', () => {
                showNotification(currentLang === 'en' 
                    ? 'SNAKE CONTROLS:\nArrow Keys - Move snake\nSpace - Pause/Resume\nR - Restart\nESC - Exit to menu\nG - Trigger glitch'
                    : 'SNAKE IR√ÅNY√çT√ÅS:\nNy√≠l gombok - Mozg√°s\nSpace - Sz√ºnet/Folytat√°s\nR - √öjraind√≠t√°s\nESC - Kil√©p√©s a men√ºbe\nG - Glitch aktiv√°l√°sa'
                );
            });
            
            document.getElementById('start-tetris').addEventListener('click', () => {
                startTetrisGame(windowId);
            });
            
            document.getElementById('tetris-help').addEventListener('click', () => {
                showNotification(currentLang === 'en' 
                    ? 'TETRIS CONTROLS:\nArrow Left/Right - Move\nArrow Up - Rotate\nArrow Down - Soft drop\nSpace - Hard drop\nP - Pause/Resume\nESC - Exit to menu\nG - Trigger glitch'
                    : 'TETRIS IR√ÅNY√çT√ÅS:\nBal/Jobb ny√≠l - Mozg√°s\nFelfel√© ny√≠l - Forgat√°s\nLefel√© ny√≠l - L√°gy es√©s\nSpace - Kem√©ny es√©s\nP - Sz√ºnet/Folytat√°s\nESC - Kil√©p√©s a men√ºbe\nG - Glitch aktiv√°l√°sa'
                );
            });
            
            return {
                element: windowElement,
                id: windowId,
                updateTitle: () => {
                    const title = windowElement.querySelector('.window-title');
                    title.textContent = `üéÆ ${currentLang === 'en' ? 'GAMES' : 'J√ÅT√âKOK'}`;
                    
                    // Update button texts
                    const snakeBtn = windowElement.querySelector('#start-snake');
                    const tetrisBtn = windowElement.querySelector('#start-tetris');
                    if (snakeBtn) snakeBtn.textContent = currentLang === 'en' ? 'Play Snake' : 'Snake J√°t√©k';
                    if (tetrisBtn) tetrisBtn.textContent = currentLang === 'en' ? 'Play Tetris' : 'Tetris J√°t√©k';
                    
                    // Update descriptions
                    const snakeDesc = windowElement.querySelector('#snake-game-card .game-desc');
                    const tetrisDesc = windowElement.querySelector('#tetris-game-card .game-desc');
                    if (snakeDesc) {
                        snakeDesc.textContent = currentLang === 'en' 
                            ? 'Classic Snake game. Control the snake with arrow keys, eat food to grow, avoid walls and yourself.' 
                            : 'Klasszikus Snake j√°t√©k. Ir√°ny√≠tsd a k√≠gy√≥t ny√≠l gombokkal, egy√©l √©telt a n√∂veked√©shez, ker√ºld a falakat √©s magadat.';
                    }
                    if (tetrisDesc) {
                        tetrisDesc.textContent = currentLang === 'en' 
                            ? 'Classic Tetris game. Rotate and move falling blocks to complete lines. Use arrow keys to control.' 
                            : 'Klasszikus Tetris j√°t√©k. Forgass √©s mozgasd az es≈ë blokkokat a sorok teljes√≠t√©s√©hez. Haszn√°ld a ny√≠l gombokat az ir√°ny√≠t√°shoz.';
                    }
                }
            };
        }

        // Start Snake game
        function startSnakeGame(parentWindowId) {
            const windowId = 'window-' + Date.now();
            const windowElement = document.createElement('div');
            windowElement.className = 'window window-instance';
            windowElement.id = windowId;
            windowElement.style.left = '250px';
            windowElement.style.top = '150px';
            windowElement.style.width = '500px';
            windowElement.style.height = '700px';
            
            windowElement.innerHTML = `
                <div class="window-header">
                    <div class="window-title">üêç ${currentLang === 'en' ? 'SNAKE GAME' : 'SNAKE J√ÅT√âK'}</div>
                    <div class="window-controls">
                        <button class="window-btn minimize">‚îÄ</button>
                        <button class="window-btn maximize">‚ñ°</button>
                        <button class="window-btn close">‚úï</button>
                    </div>
                </div>
                <div class="window-content">
                    <div class="snake-container">
                        <div class="snake-header">
                            <div class="snake-title">${currentLang === 'en' ? 'SNAKE' : 'SNAKE'}</div>
                            <div class="snake-score" id="${windowId}-score">${currentLang === 'en' ? 'Score: 0' : 'Pontsz√°m: 0'}</div>
                        </div>
                        <div class="snake-game" id="${windowId}-game">
                            <!-- Snake grid will be generated here -->
                        </div>
                        <div class="snake-controls">
                            <div class="snake-arrows">
                                <button class="arrow-btn arrow-up" id="${windowId}-up">‚Üë</button>
                                <button class="arrow-btn arrow-left" id="${windowId}-left">‚Üê</button>
                                <button class="arrow-btn arrow-right" id="${windowId}-right">‚Üí</button>
                                <button class="arrow-btn arrow-down" id="${windowId}-down">‚Üì</button>
                            </div>
                            <div style="display: flex; gap: 10px; margin-top: 20px;">
                                <button class="btn" id="${windowId}-pause">${currentLang === 'en' ? 'Pause' : 'Sz√ºnet'}</button>
                                <button class="btn" id="${windowId}-restart">${currentLang === 'en' ? 'Restart' : '√öjraind√≠t√°s'}</button>
                                <button class="btn btn-danger" id="${windowId}-exit">${currentLang === 'en' ? 'Exit' : 'Kil√©p√©s'}</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            windowManager.appendChild(windowElement);
            
            // Setup window controls
            setupWindowControls(windowElement);
            
            // Snake game logic
            const gridSize = 20;
            let snake = [{x: 10, y: 10}];
            let food = {x: 5, y: 5};
            let direction = {x: 0, y: 0};
            let nextDirection = {x: 0, y: 0};
            let score = 0;
            let gameInterval;
            let isPaused = false;
            let glitchMode = false;
            
            const gameGrid = document.getElementById(`${windowId}-game`);
            const scoreDisplay = document.getElementById(`${windowId}-score`);
            
            // Create grid
            for (let y = 0; y < gridSize; y++) {
                for (let x = 0; x < gridSize; x++) {
                    const cell = document.createElement('div');
                    cell.className = 'snake-cell';
                    cell.id = `${windowId}-cell-${x}-${y}`;
                    gameGrid.appendChild(cell);
                }
            }
            
            // Draw game state
            function draw() {
                // Clear grid
                for (let y = 0; y < gridSize; y++) {
                    for (let x = 0; x < gridSize; x++) {
                        const cell = document.getElementById(`${windowId}-cell-${x}-${y}`);
                        cell.className = 'snake-cell';
                        cell.innerHTML = '';
                    }
                }
                
                // Draw snake
                snake.forEach((segment, index) => {
                    const cell = document.getElementById(`${windowId}-cell-${segment.x}-${segment.y}`);
                    if (cell) {
                        cell.className = index === 0 ? 'snake-head' : 'snake-body';
                        
                        // Glitch effect
                        if (glitchMode && Math.random() > 0.7) {
                            cell.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                        }
                    }
                });
                
                // Draw food
                const foodCell = document.getElementById(`${windowId}-cell-${food.x}-${food.y}`);
                if (foodCell) {
                    foodCell.className = 'snake-food';
                    
                    // Glitch effect
                    if (glitchMode) {
                        foodCell.style.animation = 'food-pulse 0.5s infinite, food-rotate 1s linear infinite';
                    }
                }
            }
            
            // Update game state
            function update() {
                if (isPaused) return;
                
                direction = {...nextDirection};
                
                // Move snake
                const head = {...snake[0]};
                head.x += direction.x;
                head.y += direction.y;
                
                // Check wall collision
                if (head.x < 0 || head.x >= gridSize || head.y < 0 || head.y >= gridSize) {
                    gameOver();
                    return;
                }
                
                // Check self collision
                if (snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                    gameOver();
                    return;
                }
                
                // Add new head
                snake.unshift(head);
                
                // Check food collision
                if (head.x === food.x && head.y === food.y) {
                    score += 10;
                    scoreDisplay.textContent = currentLang === 'en' ? `Score: ${score}` : `Pontsz√°m: ${score}`;
                    generateFood();
                    
                    // Random glitch on food eat
                    if (Math.random() > 0.8) {
                        triggerRandomGlitch();
                    }
                } else {
                    // Remove tail if no food eaten
                    snake.pop();
                }
                
                draw();
            }
            
            // Generate new food
            function generateFood() {
                let newFood;
                do {
                    newFood = {
                        x: Math.floor(Math.random() * gridSize),
                        y: Math.floor(Math.random() * gridSize)
                    };
                } while (snake.some(segment => segment.x === newFood.x && segment.y === newFood.y));
                food = newFood;
            }
            
            // Game over
            function gameOver() {
                clearInterval(gameInterval);
                showNotification(currentLang === 'en' 
                    ? `Game Over! Final Score: ${score}`
                    : `J√°t√©k v√©ge! V√©gs≈ë pontsz√°m: ${score}`
                );
                
                // Final glitch
                triggerRandomGlitch();
            }
            
            // Start game
            generateFood();
            draw();
            gameInterval = setInterval(update, 200);
            
            // Controls
            document.getElementById(`${windowId}-up`).addEventListener('click', () => {
                if (direction.y !== 1) nextDirection = {x: 0, y: -1};
            });
            
            document.getElementById(`${windowId}-left`).addEventListener('click', () => {
                if (direction.x !== 1) nextDirection = {x: -1, y: 0};
            });
            
            document.getElementById(`${windowId}-right`).addEventListener('click', () => {
                if (direction.x !== -1) nextDirection = {x: 1, y: 0};
            });
            
            document.getElementById(`${windowId}-down`).addEventListener('click', () => {
                if (direction.y !== -1) nextDirection = {x: 0, y: 1};
            });
            
            document.getElementById(`${windowId}-pause`).addEventListener('click', () => {
                isPaused = !isPaused;
                document.getElementById(`${windowId}-pause`).textContent = 
                    isPaused ? (currentLang === 'en' ? 'Resume' : 'Folytat√°s') : (currentLang === 'en' ? 'Pause' : 'Sz√ºnet');
            });
            
            document.getElementById(`${windowId}-restart`).addEventListener('click', () => {
                clearInterval(gameInterval);
                snake = [{x: 10, y: 10}];
                direction = {x: 0, y: 0};
                nextDirection = {x: 0, y: 0};
                score = 0;
                scoreDisplay.textContent = currentLang === 'en' ? 'Score: 0' : 'Pontsz√°m: 0';
                generateFood();
                draw();
                isPaused = false;
                glitchMode = false;
                document.getElementById(`${windowId}-pause`).textContent = currentLang === 'en' ? 'Pause' : 'Sz√ºnet';
                gameInterval = setInterval(update, 200);
            });
            
            document.getElementById(`${windowId}-exit`).addEventListener('click', () => {
                clearInterval(gameInterval);
                windowElement.remove();
                const index = openWindows.findIndex(w => w.id === windowId);
                if (index > -1) {
                    openWindows.splice(index, 1);
                    updateTaskbar();
                }
            });
            
            // Keyboard controls
            document.addEventListener('keydown', function handleKeyDown(e) {
                if (!windowElement.classList.contains('minimized') && document.activeElement.tagName !== 'INPUT') {
                    switch(e.key) {
                        case 'ArrowUp':
                            if (direction.y !== 1) nextDirection = {x: 0, y: -1};
                            e.preventDefault();
                            break;
                        case 'ArrowLeft':
                            if (direction.x !== 1) nextDirection = {x: -1, y: 0};
                            e.preventDefault();
                            break;
                        case 'ArrowRight':
                            if (direction.x !== -1) nextDirection = {x: 1, y: 0};
                            e.preventDefault();
                            break;
                        case 'ArrowDown':
                            if (direction.y !== -1) nextDirection = {x: 0, y: 1};
                            e.preventDefault();
                            break;
                        case ' ':
                            isPaused = !isPaused;
                            document.getElementById(`${windowId}-pause`).textContent = 
                                isPaused ? (currentLang === 'en' ? 'Resume' : 'Folytat√°s') : (currentLang === 'en' ? 'Pause' : 'Sz√ºnet');
                            e.preventDefault();
                            break;
                        case 'r':
                        case 'R':
                            document.getElementById(`${windowId}-restart`).click();
                            e.preventDefault();
                            break;
                        case 'g':
                        case 'G':
                            glitchMode = !glitchMode;
                            showNotification(currentLang === 'en' 
                                ? `Glitch mode ${glitchMode ? 'ON' : 'OFF'}`
                                : `Glitch m√≥d ${glitchMode ? 'BE' : 'KI'}`
                            );
                            triggerRandomGlitch();
                            e.preventDefault();
                            break;
                        case 'Escape':
                            document.getElementById(`${windowId}-exit`).click();
                            e.preventDefault();
                            break;
                    }
                }
            });
            
            // Store game state
            snakeGame = {
                windowId,
                interval: gameInterval
            };
            
            // Add to open windows
            openWindows.push({
                element: windowElement,
                id: windowId,
                updateTitle: () => {
                    const title = windowElement.querySelector('.window-title');
                    title.textContent = `üêç ${currentLang === 'en' ? 'SNAKE GAME' : 'SNAKE J√ÅT√âK'}`;
                    document.getElementById(`${windowId}-pause`).textContent = 
                        isPaused ? (currentLang === 'en' ? 'Resume' : 'Folytat√°s') : (currentLang === 'en' ? 'Pause' : 'Sz√ºnet');
                    document.getElementById(`${windowId}-exit`).textContent = currentLang === 'en' ? 'Exit' : 'Kil√©p√©s';
                }
            });
            
            bringToFront({element: windowElement, id: windowId});
            updateTaskbar();
        }

        // Start Tetris game (similar structure, but keeping code shorter)
        // Tetris game would follow similar pattern with glitch effects

        // Show notification
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 70px;
                right: 20px;
                background-color: ${type === 'error' ? '#5a2a2a' : '#2a5a2a'};
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                font-family: 'Press Start 2P', cursive;
                font-size: 11px;
                z-index: 1000;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                border: 3px solid ${type === 'error' ? '#6a3a3a' : '#3a6a3a'};
                max-width: 400px;
                white-space: pre-wrap;
                animation: fadeIn 0.3s ease-out;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Glitch effect for errors
            if (type === 'error') {
                setTimeout(() => {
                    notification.style.transform = 'translateX(2px)';
                    setTimeout(() => notification.style.transform = 'translateX(-2px)', 50);
                    setTimeout(() => notification.style.transform = '', 100);
                }, 100);
            }
            
            // Remove after 5 seconds
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 5000);
        }

        // Setup window controls (same as before, but with glitch effects)
        function setupWindowControls(windowElement) {
            const header = windowElement.querySelector('.window-header');
            const minimizeBtn = windowElement.querySelector('.window-btn.minimize');
            const maximizeBtn = windowElement.querySelector('.window-btn.maximize');
            const closeBtn = windowElement.querySelector('.window-btn.close');
            
            // Make window draggable
            let isDragging = false;
            let dragOffset = {x: 0, y: 0};
            
            header.addEventListener('mousedown', startDrag);
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            
            function startDrag(e) {
                if (e.target.closest('.window-btn')) return;
                
                isDragging = true;
                const rect = windowElement.getBoundingClientRect();
                dragOffset = {
                    x: e.clientX - rect.left,
                    y: e.clientY - rect.top
                };
                bringToFront({element: windowElement});
                
                // Glitch effect on drag start
                if (Math.random() > 0.8) {
                    triggerRandomGlitch();
                }
            }
            
            function drag(e) {
                if (!isDragging) return;
                
                windowElement.style.left = (e.clientX - dragOffset.x) + 'px';
                windowElement.style.top = (e.clientY - dragOffset.y) + 'px';
            }
            
            function stopDrag() {
                isDragging = false;
            }
            
            // Window controls
            minimizeBtn.addEventListener('click', () => {
                windowElement.classList.add('minimized');
                updateTaskbar();
                triggerRandomGlitch();
            });
            
            maximizeBtn.addEventListener('click', () => {
                windowElement.classList.toggle('maximized');
                if (windowElement.classList.contains('maximized')) {
                    maximizeBtn.textContent = '‚ùê';
                } else {
                    maximizeBtn.textContent = '‚ñ°';
                }
                triggerRandomGlitch();
            });
            
            closeBtn.addEventListener('click', () => {
                // If it's a game window with interval, clear it
                if (snakeGame && snakeGame.windowId === windowElement.id) {
                    clearInterval(snakeGame.interval);
                    snakeGame = null;
                }
                if (tetrisGame && tetrisGame.windowId === windowElement.id) {
                    clearInterval(tetrisGame.interval);
                    tetrisGame = null;
                }
                
                // Glitch effect on close
                triggerRandomGlitch();
                
                windowElement.remove();
                const index = openWindows.findIndex(w => w.element === windowElement);
                if (index > -1) {
                    openWindows.splice(index, 1);
                    updateTaskbar();
                }
            });
            
            // Bring to front on click
            windowElement.addEventListener('mousedown', () => {
                bringToFront({element: windowElement});
            });
        }

        // Bring window to front
        function bringToFront(window) {
            openWindows.forEach(w => {
                w.element.style.zIndex = '50';
            });
            window.element.style.zIndex = '100';
            activeWindow = window;
            updateTaskbar();
        }

        // Update taskbar
        function updateTaskbar() {
            const taskbarApps = document.querySelectorAll('.taskbar-app');
            taskbarApps.forEach(app => {
                const appName = app.getAttribute('data-app');
                const window = openWindows.find(w => w.app === appName);
                
                if (window) {
                    app.classList.add('active');
                    if (window.element.classList.contains('minimized')) {
                        app.style.opacity = '0.7';
                    } else {
                        app.style.opacity = '1';
                    }
                } else {
                    app.classList.remove('active');
                    app.style.opacity = '1';
                }
            });
        }
    </script>
</body>
</html>
